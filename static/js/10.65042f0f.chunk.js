(this.webpackJsonptaboo=this.webpackJsonptaboo||[]).push([[10],{206:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return B}));var r,a,i=t(0),c=t(2),o=t(50),s=t(55),u=t(22),l=t(69),f=t(8),b=t(68),p=t(9),h=t(1),j=Object(p.b)(r||(r=Object(f.a)(["\n  0% {\n    transform: rotateZ(0)\n  }\n\n  100% {\n    transform: rotateZ(360deg)\n  }\n"]))),O=p.a.div(a||(a=Object(f.a)(["\n  animation: "," infinite;\n  animation-duration: 1s;\n  animation-timing-function: linear;\n  display: inline-block;\n"])),j),d={sm:32,md:64,lg:128},m=function(e){var n=e.size,t=void 0===n?"sm":n,r=Object(l.a)(e,["size"]);return Object(h.jsx)(O,{children:Object(h.jsx)(b.a,Object(u.a)({size:d[t]},r))})},g=t(10),w=t(51),v=t.n(w),k=t(52),x=t(21),_=t(25),T=t(81),y=t(15),E=function e(n){var t=n.id,r=n.name,a=n.email,i=n.token;Object(y.a)(this,e),this.id=t,this.name=r,this.email=a,this.token=i},I=t(53),N=function(){var e=Object(k.a)(v.a.mark((function e(n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=E,e.next=3,n.json();case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function U(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST";return{method:n,body:JSON.stringify(e),headers:{"content-type":"application/json"}}}function P(e){return R.apply(this,arguments)}function R(){return(R=Object(k.a)(v.a.mark((function e(n){var t,r,a,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.email,r=n.loginToken,e.prev=1,(a=Object(I.a)()).apiBaseUrl){e.next=5;break}throw new Error("apiBaseUrl is not set in config");case 5:return e.next=7,fetch("".concat(a.apiBaseUrl,"/api/v1/login"),U({email:t,loginToken:r}));case 7:if((i=e.sent).ok){e.next=11;break}throw console.error(i),new Error("Error making request to register user");case 11:return e.next=13,N(i);case 13:return e.abrupt("return",e.sent);case 16:throw e.prev=16,e.t0=e.catch(1),console.error("Error logging in user with token",e.t0),e.t0;case 20:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}var C=function(e){return new T.a(e.id,e.name,e.email,new _.a(e.token))};function z(){var e=window.location.search,n=new URLSearchParams(e),t=Object.fromEntries(n.entries());if(!t.loginToken||!t.email)throw new Error("loginToken and/or email are not in the url");return{loginToken:t.loginToken,email:t.email}}function A(){return L.apply(this,arguments)}function L(){return(L=Object(k.a)(v.a.mark((function e(){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(z());case 3:return n=e.sent,e.abrupt("return",C(n));case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error logging user in",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var M=t(54);var S=t(62);function B(){var e=function(){var e=Object(M.a)(!1),n=Object(x.a)(e,2),t=n[0],r=n[1],a=Object(M.a)(null),c=Object(x.a)(a,2),o=c[0],s=c[1],u=Object(M.a)(null),l=Object(x.a)(u,2),f=l[0],b=l[1],p=Object(i.useCallback)(Object(k.a)(v.a.mark((function e(){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,A();case 4:n=e.sent,b(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s(e.t0);case 11:return e.prev=11,r(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])}))),[r,s,b]);return Object(i.useEffect)((function(){p()}),[p]),Object(i.useMemo)((function(){return{loading:t,error:o,user:f}}),[t,o,f])}(),n=e.user,t=e.error,r=Object(g.b)().setToken,a=Object(c.g)();return Object(i.useEffect)((function(){n&&(r(n.accessToken),a.push("/"))}),[n,a,r]),Object(h.jsx)(s.a,{children:Object(h.jsx)(o.p,{children:Object(h.jsxs)(o.f,{sm:{size:12,order:2,offset:0},style:{textAlign:"center"},children:[Object(h.jsx)(o.e,{size:"lg",children:"Logging you in"}),Object(h.jsx)(m,{size:"md",color:S.a.primary}),t&&Object(h.jsxs)(o.a,{theme:"light",children:["There was a problem logging you ",Object(h.jsx)("br",{}),"in with token. Please try later"]})]})})})}},53:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var r="__RUNTIME_CONFIG__",a={};function i(){return r in window?(0===Object.keys(a).length&&(a={apiBaseUrl:window.__RUNTIME_CONFIG__.REACT_APP_API_URL,chatPollIntervalSeconds:window.__RUNTIME_CONFIG__.CHAT_POLL_INTERVAL||10,chatPollingTimeSeconds:300},delete window.__RUNTIME_CONFIG__),a):a}},54:function(e,n,t){"use strict";var r=t(21),a=t(0);n.a=function(e){var n=Object(a.useRef)(!1),t=Object(a.useState)(e),i=Object(r.a)(t,2),c=i[0],o=i[1];return Object(a.useEffect)((function(){return n.current=!0,function(){n.current=!1}}),[]),[c,Object(a.useCallback)((function(e){n.current&&o(e)}),[o])]}},55:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var r,a=t(8),i=t(50),c=t(9),o=Object(c.a)(i.g)(r||(r=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  gap: 1rem;\n  flex-wrap: wrap;\n  min-height: calc(100% - 92px);\n\n  > *:first-child {\n    flex-basis: auto;\n  }\n"])))},62:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var r={primary:"#17c671",signupErrorMessage:"#c4183c"}},81:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r=t(15),a=function e(n,t,a,i){Object(r.a)(this,e),this.id=n,this.name=t,this.email=a,this.accessToken=i}}}]);
//# sourceMappingURL=10.65042f0f.chunk.js.map